<!DOCTYPE html>
<html>
<head>
  <title>ASCII Art Website</title>
  <style>

    body{
        background-color: black;
        font-size: 1px;
        color: grey;
    }
    .emptyLayer{
        width: 100%;
        height: 100%;
        z-index: -9;
        position: absolute;
        display: block;
    }
    #asciiDiv {
        z-index: -10;
      font-family: monospace;
      white-space: pre;
    }
  </style>
</head>
<body>
    <div class="emptyLayer"></div>
  <div id="asciiDiv"></div>



  <label for="charInput">Введите символы:</label>
  <br>
  <textarea id="charInput" rows="4" cols="50"></textarea>
  <br>
  <button onclick="updateCharacterArray()">Обновить словарь</button>



 <script>

const asciiCharacters = '325346457567 ';
    // Функция для преобразования изображения в ASCII-арт и отображения его в div
    function convertToAscii(imageUrl) {
       

      const img = new Image();
      img.crossOrigin = 'Anonymous';
      img.src = imageUrl;

      img.onload = function() {
        const canvas = document.createElement('canvas');
        canvas.width = img.width;
        canvas.height = img.height;

        const context = canvas.getContext('2d');
        context.drawImage(img, 0, 0);

        let asciiArt = '';

        for (let y = 0; y < img.height; y += 2) {
          for (let x = 0; x < img.width; x += 1) {
            const pixelData = context.getImageData(x, y, 1, 1).data;
            const brightness = (pixelData[0] + pixelData[1] + pixelData[2]) / 3;

            const asciiIndex = Math.floor((brightness / 255) * (asciiCharacters.length - 1));
            const asciiChar = asciiCharacters.charAt(asciiIndex);

            asciiArt += asciiChar;
          }

          asciiArt += '\n';
        }

        const asciiDiv = document.getElementById('asciiDiv');
        asciiDiv.textContent = asciiArt;
      };
    }

    let imageUrl = 'METAVERS/room1Img/7.png';

function updateCharacterArray() {
  const charInput = document.getElementById('charInput');
  const inputText = charInput.value.trim();

  convertToAscii(imageUrl);
}

// Пример использования
convertToAscii(imageUrl);
 </script>
</body>
</html>